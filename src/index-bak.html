<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/index-bak.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>Portfolio</title>
    <style>

    </style>

</head>

<body>
    <header class="body__header header">
        <nav>
            <ul id="nav__links" class="nav__links">
                <li id="link-home" class="nav__item" href="#home">Home</li>
                <li id="link-about" class="nav__item" href="#about">About</li>
                <li id="link-work" class="nav__item" href="#work">Work</li>
                <li id="link-contact" class="nav__item" href="#contact">Contact</li>
                <a href="javascript:void(0);" class="menu-icon" onclick="mobileMenu()">
                    <i class="fa fa-bars"></i></a>
            </ul>

        </nav>
    </header>

    <div id="contentContainer">


        <div id="wrapper">

            <main>
                <section id="home" class="content">
                    HOME
                </section>

                <section id="about" class="content">
                    ABOUT
                </section>

                <section id="work" class="content">
                    WORK
                </section>

                <section id="contact" class="content">
                    CONTACT
                </section>
            </main>
        </div>
    </div>


    <script>
        // just querying the DOM...like a boss!
        var links = document.querySelectorAll(".nav__item");
        var wrapper = document.querySelector("#wrapper");

        // the activeLink provides a pointer to the currently displayed item
        var activeLink = 0;

        // setup the event listeners
        for (var i = 0; i < links.length; i++) {
            var link = links[i];
            link.addEventListener('click', setClickedItem, false);

            // identify the item for the activeLink
            link.nav__itemID = i;
        }

        // set first item as active
        links[activeLink].classList.add("active");
        var sectionId = links[activeLink].getAttribute("href")
        sectionId = sectionId.substring(1);
        document.getElementById(sectionId).classList.add("activeSection")



        function setClickedItem(e) {
            removeActiveLinks();

            var clickedLink = e.target;
            activeLink = clickedLink.nav__itemID;

            changePosition(clickedLink);
        }

        function removeActiveLinks() {
            for (var i = 0; i < links.length; i++) {

                links[i].classList.remove("active");
                var sectionId = links[i].getAttribute("href")
                sectionId = sectionId.substring(1);
                document.getElementById(sectionId).classList.remove("activeSection")
            }
        }

        // Handle changing the slider position as well as ensure
        // the correct link is highlighted as being active
        function changePosition(link) {

            var sectionId = link.getAttribute("href")
            sectionId = sectionId.substring(1);
            console.log(sectionId)

            const activeSection = document.getElementById(sectionId)
            console.log(activeSection)

            activeSection.classList.toggle("activeSection")
            link.classList.add("active");
        }


        /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
        function mobileMenu() {
            var x = document.getElementById("nav__links");
            if (x.className === "nav__links") {
                x.className += " responsive";
            } else {
                x.className = "nav__links";
            }
        }

    </script>
</body>

</html>